openapi: '3.0.3'
info:
  title: "web-occurrence API"
  version: '0.0.1'
servers:
  - url: "http://localhost:8080"
    description: "local server"
paths:
  /register:
    post:
      summary: "Register a new user"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mailaddress:
                  type: string
                password:
                  type: string
              required:
                - mailaddress
                - password
      responses:
        '201':
          description: "User registered successfully"
        '400':
          description: "Invalid input"
  /login:
    post:
      summary: "User login"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mailaddress:
                  type: string
                password:
                  type: string
              required:
                - mailaddress
                - password
      responses:
        '200':
          description: "Login successful"
        '401':
          description: "Unauthorized"
  /couchdb-session:
    get:
      summary: "Get CouchDB session information"
      responses:
        '200':
          description: "Session information retrieved successfully"
        '401':
          description: "Unauthorized"
  /upload-file:
    post:
      summary: "Upload a file"
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: "File uploaded successfully"
        '400':
          description: "Invalid file upload"    
